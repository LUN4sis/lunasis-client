@use 'sass:math';

@mixin full-screen-container {
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  overflow: hidden;
  position: relative;

  // ios Safari fallback
  @supports not (min-height: 100dvh) {
    min-height: -webkit-fill-available;
  }
}

@mixin full-screen-scrollable {
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch; // ios smooth scrolling

  // ios Safari fallback
  @supports not (min-height: 100dvh) {
    min-height: -webkit-fill-available;
  }
}

// prevent tap highlight
@mixin prevent-tap-highlight {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
}

// hide scrollbar
@mixin hide-scrollbar {
  -ms-overflow-style: none; // IE, Edge
  scrollbar-width: none; // Firefox

  &::-webkit-scrollbar {
    display: none; // Chrome, Safari
    width: 0;
    height: 0;
  }
}

// mobile fixed header (use with safe-area-inset)
@mixin mobile-fixed-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: $z-index;
}

@mixin mobile-fixed-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: $z-index;
}

// extend background to status bar in iOS Safari
@mixin extend-background-to-status-bar($bg-color) {
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top);
    background-color: $bg-color;
    z-index: 1000;
  }
}

@mixin pwa-container($max-width: 884px) {
  max-width: $max-width;
  margin-left: auto;
  margin-right: auto;
  width: 100%;
  position: relative;

  @media (min-width: calc($max-width + 1px)) {
    box-shadow: 0 0 2rem rgba(0, 0, 0, 0.1);
  }
}
