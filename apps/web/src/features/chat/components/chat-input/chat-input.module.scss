@use '@/styles' as *;

.containerWrapper {
  @include flex-column;
  background-color: $white;
  flex-shrink: 0;
}

.filePreview {
  padding: $spacing-3 $spacing-3 $spacing-0;
  border-top: 1px solid $gray-200;

  > button {
    @include flex-center;
    @include size(1rem);
    padding: $spacing-0;
    border: none;
    cursor: pointer;
    flex-shrink: 0;
  }
}

.fileCard {
  @include file-card;
}

.fileInfo {
  @include file-info;
}

.name {
  @include file-name;
}

.size {
  @include file-size;
}

.inputContainer {
  @include flex-between;
  padding: $spacing-4 $spacing-3;
  background-color: $white;
  flex-shrink: 0;

  .inputWrapper {
    @include flex;
    width: 100%;

    > textarea {
      padding: $spacing-0 $spacing-2;
      width: 100%;
      font-size: $font-size-2xl;
      font-family: $font-family-sans;
      background-color: $white;
      line-height: 1.5;
      resize: none;
      border: none;
      overflow-wrap: break-word;
      word-wrap: break-word;
      white-space: pre-wrap;
      overflow-y: auto;
      max-height: 7.5em;
      min-height: 1.5em;

      &:focus,
      &:focus-visible {
        outline: none;
        box-shadow: none;
        border: none;
      }
    }
  }
}

.toolbar {
  @include flex(row, center, center, $spacing-2);
  flex-shrink: 0;

  > input {
    display: none;
  }
}

.attachIcon svg {
  transform: rotate(-45deg);
}

.toolbarButton {
  @include size(2.5rem);
  @include transition(all);
  flex-shrink: 0;
  padding: $spacing-0 !important;

  svg {
    font-size: 2rem !important;
  }

  &.active {
    background-color: $gray-150 !important;
    box-shadow: $box-shadow-md !important;

    svg {
      color: $red !important;
    }
  }
}

@include respond(mobile) {
  .filePreview {
    padding: $spacing-2 $spacing-3 $spacing-0;
  }

  .fileCard {
    padding: $spacing-2;

    > svg {
      font-size: $font-size-4xl !important;
    }
  }

  .name {
    font-size: $font-size-base;
  }

  .size {
    font-size: $font-size-sm;
  }

  .inputContainer {
    @include flex(row, space-between, center, $spacing-2);
    padding: $spacing-3;
  }

  .inputWrapper {
    @include flex(row, center, center);
    flex: 1;
    min-width: 0;

    > textarea {
      font-size: 16px; // Prevent zoom on iOS
      max-height: 5em;
      padding: $spacing-0 $spacing-2;
      line-height: 1.6;
      -webkit-overflow-scrolling: touch;
      touch-action: manipulation;
    }
  }

  .toolbar {
    @include flex(row, center, center, $spacing-1);
    flex-shrink: 0;
  }

  .toolbarButton {
    @include size(2.5rem);
    min-width: 2.5rem;
    min-height: 2.5rem;
    padding: $spacing-0 !important;
    touch-action: manipulation;

    svg {
      font-size: 1.9rem !important;
    }
  }
}
